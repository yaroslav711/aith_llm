# AI Mediator for couples

**Прототип агента, который ведет два параллельных чата с партнерами и помогает найти решение конфликта.**

Ссылка на репозиторий: https://github.com/yaroslav711/aith_llm

Выполнили: 
- Москаленко Ярослав Александрович [tg: @yaroslav2207]
- Моисеенков Владислав Юрьевич [tg: @vlad1545]

## Почему нет RAG и собранных данных?
- Если честно, мы не до конца поняли, почему RAG идет первым этапом: изначально мы перед собой поставили цель - "создать хорошую систему", но на старте было не ясно, какие именно методы для этого потребуются, поэтому мы начали с Proof of Concept в виде промпта
- Текущая реализация через промпт показала то, что LLM хорошо ориентируется в двух чатах параллельно и не теряется
- Мы провели Demo со специалистом парной психологии, получили от него инсайты и понимание, что уже работает хорошо, а что требует доработки
- Сделали вывод: RAG нам все-таки нужен, будем готовить каркас и собирать данные к следующему чекпоинту

## Как это работает сейчас
- У каждого партнера свой чат (`user_1` и `user_2`), LLM общается с каждым отдельно
- LLM интересуетcя, что важно каждому из них, ищет общую цель и помогает к ней придти
- Помогает выстраить доверительное, а не обвинительное общение (сглаживает углы и заставляет понять и себя и партнера)
- В процессе общения, делится точкой зрения партнера
- Находит точки соприкосновения и помогает найти компромис / решение проблемы

## Что за этим стоит (очень коротко)
- Флоу следующий: понять обе стороны → найти общую цель → предложить план по достижению цели → сопровождать пару на пути к ней
- Лидирует диалог, но остается непредвзятым (благодаря тому, что общается с обоими партнерами)
- Психологические инструменты: инсайты, рефрейминг, микрошаги, прогресс-маркеры
- Если запрос уходит в клинику/травму — советует обратиться к специалисту

## Быстрый старт
```bash
cd /Users/y.moskalenko/Desktop/llm_project
python3 -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt
```

Создайте `.env` в корне проекта:
```
OPENAI_API_KEY=sk-...
DEFAULT_MODEL=gpt-4.1
PORT=8000
```

Запуск:
```bash
python app.py
```

Открыть UI: http://localhost:8000

## Структура
- `app.py` — FastAPI сервер и API для чатов/промпта
- `prompts/duo.md` — системный промпт агента
- `static/index.html` — минимальный UI тестера
- `requirements.txt` — зависимости